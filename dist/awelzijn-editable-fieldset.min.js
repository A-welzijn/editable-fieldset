/*! awelzijn-editable-fieldset v3.0.1 */
"use strict";!function(module){try{module=angular.module("awelzijn.editableFieldset")}catch(e){module=angular.module("awelzijn.editableFieldset",[])}module.directive("aWelzijnEditablePanel",["$timeout",function($timeout){return{restrict:"E",replace:!0,transclude:!0,scope:{title:"@",loading:"=",name:"=?",status:"=?"},link:function($scope,elem,$attrs){var formElement=elem.find("[tink-fieldset]");void 0!==$attrs.autoSelect&&$timeout(function(){var first=$(elem).find("a-welzijn-editable-field:first");formElement.isolateScope().setClassActive("mouseFocus",first),$timeout(function(){first.find(":input").length>0?first.find(":input").focus().focusin():first.find("div[contentEditable]:first").length>0&&first.find("div[contentEditable]:first").focus().focusin()},20)},15)},templateUrl:"templates/panel.html"}}])}(),function(module){try{module=angular.module("awelzijn.editableFieldset")}catch(e){module=angular.module("awelzijn.editableFieldset",["tink.fieldset"])}module.directive("aWelzijnEditableField",["$compile","$timeout","safeApply",function($compile,$timeout,safeApply){return{restrict:"E",replace:!1,transclude:!0,scope:{title:"@",label:"@",email:"@",colspan:"=",editMode:"=",ngClick:"&"},templateUrl:"templates/panelfield.html",compile:function(){return{post:function($scope,element,attrs,transclude){function addToObject(value,type,object,showField,isolateScope){if(showField)fake=showField;else{var fake=$('<div contenteditable="true" class="faux-input">{{label || "-"}}</div>');fake=$compile(fake)($scope)}$(fake).insertAfter($(value)),$(value).css("display","none"),_addedObjs.push({fake:$(fake),real:$(value)}),fake.bind("mousedown click touchstart",function(){return $timeout(function(values){$(value).is("transclude-edit")?(formElement.isolateScope().setClassActive("mouseFocus",null),$(value).find(":input").length>0&&focusin($(value).find(":input")[0])):focusin(value)},50),!1}),formElement&&formElement.isolateScope()&&formElement.isolateScope().addEvents($(value))}function setRealInput(){for(var i=0;i<_addedObjs.length;i++){var elem=_addedObjs[i];elem.fake&&elem.fake.css("display","none"),elem.real&&elem.real.css("display","block")}}function setFakeInput(){for(var i=0;i<_addedObjs.length;i++){var elem=_addedObjs[i];elem.fake&&elem.fake.css("display","block"),elem.real&&elem.real.css("display","none"),formElement.isolateScope().addEvents($(elem.fake))}}function findEditableFields(element){for(var editableFields={input:"input",select:"select",datepicker:"data-tink-datepicker",timepicker:"tink-timepicker",national:"tink-national-number",datepickerRange:"tink-datepicker-range",tinkIdentity:"tink-identity-number",textarea:"textarea",awelzijnTransclude:"awelzijn-transclude",digipolisCodetabelDropdown:"digipolis-codetabel-dropdown"},calculated={},i=0;i<Object.keys(editableFields).length;i++)for(var currentKey=Object.keys(editableFields)[i],currentValue=editableFields[currentKey],childs=$(element).children(),j=0;j<childs.length;j++){var child=$(childs[j]);if(child.is(currentValue)&&editableFields.awelzijnTransclude===currentValue){var fake=child.find("transclude-show"),real=child.find("transclude-edit");element.replaceWith(real);var isolateScope=child.find("transclude-edit").isolateScope();calculated=addToObject(real,currentKey,calculated,fake,isolateScope)}else child.is(currentValue)&&(calculated=addToObject(child,currentKey,calculated,void 0))}return calculated}function focusin(real){$(real).focusin(),$(real).focus(),openSelect($(real),"focus"),openSelect($(real),"mousedown")}var _addedObjs=[];$(element).clone();$scope.colspan?$scope.colspanClass="col-lg-@ col-md-@".replace(/@/g,$scope.colspan):$scope.colspanClass="col-lg-@ col-md-@".replace(/@/g,"6");var formElement=element.closest("[tink-fieldset]");findEditableFields(element.find("[ng-transclude]"));$scope.$watch(function(){return formElement.isolateScope().tinkFormStatus},function(value,old){"mouseFocus"===old?setFakeInput():"mouseFocus"===value&&setRealInput()});var openSelect=function(selector,type){var element=$(selector).find("select")[0],worked=!1;if(element||$(selector)[0]&&(element=selector[0]),element&&document.createEvent){var e=document.createEvent("MouseEvents");e.initMouseEvent(type,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),worked=element.dispatchEvent(e)}else element&&element.fireEvent&&(worked=element.fireEvent("onmousedown"))};$scope.hasClickCallback=function(){return angular.isDefined(attrs.ngClick)},setFakeInput()}}}}}])}(),angular.module("awelzijn.editableFieldset").run(["$templateCache",function($templateCache){$templateCache.put("templates/panel.html",'<section class=card> <header class=card-heading> <i class="fa fa-th-large"></i> <h1 class=card-title>{{title}}\n<a class=anchorPijl anchor-smooth-scroll=top></a> </h1> </header> <div class=card-body a-welzijn-loading-overlay loading=loading> <form novalidate name=name class="fieldset-editable form-horizontal" tink-form-status=status tink-form-editable=true tink-fieldset> <div ng-show=!loading ng-transclude></div> </form> </div> </section>'),$templateCache.put("templates/panelfield.html",'<div class=form-group ng-class=colspanClass> <div ng-if=title class="col-xs-12 labelTitle"> <label for=tink-username-example>{{title}}</label> </div> <div class="col-xs-12 col-sm-12"> <div class=validation> <div ng-show=editMode class=panel-field-input ng-transclude> </div> <div ng-show=!editMode contenteditable=false disabled class=faux-input>{{label || \'-\'}}</div> </div> <span class=help-block></span> </div> <div class="col-xs-12 col-sm-6 ng-hide"> </div> </div>')}]);
//# sourceMappingURL=awelzijn-editable-fieldset.min.map